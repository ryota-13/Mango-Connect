<% if admin_signed_in? %>
  <div class="container mt-4 mb-4">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <%= render 'admin/searches/searches' %>
      </div>
    </div>
  </div>
<% end %>

<h1 class="text-center mt-4 mb-4"><%= @user.name %>さんのプロフィール</h1>

<div class="row align-items-center mb-4">
  <div class="col-md-3 text-center">
    <% if @user.image.attached? %>
      <%= image_tag @user.image, style: 'max-width: 150px; height: 150px; object-fit: cover;' %>
    <% else %>
      <%= image_tag 'no_image.jpg', style: 'max-width: 150px; height: 150px; object-fit: cover;' %>
    <% end %>
  </div>
  
  <div class="col-md-9">
    <p><strong>名前：</strong><%= @user.name %></p>
    <p><strong>メールアドレス：</strong><%= @user.email %></p>
    <p><strong>自己紹介：</strong><%= @user.profile %></p>
    <p><strong>フォロー数：</strong><%= @user.followings.count %></p>
    <p><strong>フォロワー数：</strong><%= @user.followers.count %></p>
  </div>
</div>

<%= button_to '退会', admin_user_path(@user), method: :delete, data: { confirm: '本当にこのユーザーを退会させますか？' }, class: 'btn btn-danger mb-4' %> 
<%= link_to 'ユーザー一覧', admin_users_path, class: 'btn btn-primary' %>

<h2 class="text-center mt-4 mb-4">投稿一覧</h2>
<% if @posts.present? %>
  <%= render 'admin/posts/posts', posts: @posts %>
<% else %>
  <p class="text-center">このユーザーの投稿はまだありません。</p>
<% end %>
